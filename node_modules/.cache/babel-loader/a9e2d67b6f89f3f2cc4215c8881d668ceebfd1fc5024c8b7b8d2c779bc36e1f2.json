{"ast":null,"code":"var _jsxFileName = \"E:\\\\Gandeevan_Technologies_project\\\\Gandeevan-technologies-slot-frontend\\\\src\\\\pages\\\\dashboard\\\\UniversalDashboard.jsx\",\n  _s = $RefreshSig$();\n// src/pages/dashboard/UniversalDashboard.jsx\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { UserCircle } from \"lucide-react\";\nimport api from \"../../api/axios\";\nimport NotificationToast from \"../../components/common/NotificationToast\";\n\n/* ==== Admin Components ==== */\n// import ContainerSummaryCard from \"../../components/admin/dashboard/ContainerSummaryCard\";\n// import PermissionRequests from \"../../components/admin/dashboard/PermissionRequests\";\n// import ItemDueCard from \"../../components/admin/dashboard/DueDatesCard\";\n// import LowStockCard from \"../../components/admin/dashboard/LowStockCard\";\n\n/* ==== Manager Components ==== */\n// import ManagerPermissionModal from \"../../components/manager/ManagerPermissionModal\";\n\n/* ==== User Components ==== */\nimport UserBorrowedItems from \"../users/UserBorrowedItems\";\nimport { Button } from \"react-bootstrap\";\nimport RequestItemModal from \"../users/RequestItemModal\";\nimport MyRequests from \"../users/MyRequests\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UniversalDashboard = ({\n  role,\n  containers = [],\n  permissionRequests = [],\n  approvedPermissions = [],\n  onPermissionApprove,\n  onPermissionReject,\n  currentUser\n}) => {\n  _s();\n  const navigate = useNavigate();\n\n  /* USER STATES */\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [userRequests, setUserRequests] = useState([]);\n  const [lowStock, setLowStock] = useState([]);\n  const [toast, setToast] = useState({\n    show: false,\n    message: \"\",\n    bg: \"success\"\n  });\n\n  /* Load User Requests */\n  const loadRequests = async () => {\n    try {\n      const res = await api.get(\"/users/requests\");\n      setUserRequests(res.data.data || []);\n    } catch (err) {\n      console.error(\"❌ Failed to fetch requests:\", err);\n    }\n  };\n\n  /* Load User Requests */\n  useEffect(() => {\n    const loadRequests = async () => {\n      try {\n        const res = await api.get(\"/users/requests\");\n        setUserRequests(res.data.data || []);\n      } catch (err) {\n        console.error(\"❌ Failed to fetch requests:\", err);\n      }\n    };\n    if (role === \"user\") loadRequests();\n  }, [role]);\n\n  /* Create Item Request */\n  const handleSubmitItemRequest = async requestData => {\n    try {\n      const res = await api.post(\"/users/requestNewItem\", requestData);\n\n      // Success Toast\n      setToast({\n        show: true,\n        message: \"Request submitted successfully!\",\n        bg: \"success\"\n      });\n\n      // Close Modal\n      setShowCreateModal(false);\n\n      // Refresh user requests\n      setUserRequests(prev => [res.data.data, ...prev]);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Submit Error:\", err);\n      let msg = \"Failed to submit request\";\n\n      // Use backend error message if exists\n      if ((_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.message) {\n        msg = err.response.data.message;\n      }\n\n      // Show Toast Error\n      setToast({\n        show: true,\n        message: msg,\n        bg: \"danger\"\n      });\n    }\n  };\n\n  /* Cancel Request */\n  const cancelMyRequest = async id => {\n    try {\n      const response = await api.put(`/users/cancelRequest/${id}`);\n      setToast({\n        show: true,\n        message: \"Request Cancelled!\",\n        bg: \"danger\"\n      });\n      const res = await api.get(\"/users/requests\");\n      setUserRequests(res.data.data);\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error(\"❌ Cancel failed full error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Failed to cancel request\");\n    }\n  };\n  useEffect(() => {\n    const loadLimitedStock = async () => {\n      try {\n        const res = await api.get(\"/manager/limitedStock\");\n        setLowStock(res.data.data || []);\n      } catch (err) {\n        console.error(\"Failed to fetch limited stock:\", err);\n      }\n    };\n    if (role === \"admin\") {\n      loadLimitedStock();\n    }\n  }, [role]);\n\n  /* Filter Data as Per Your Rules */\n  const filteredMyRequests = userRequests.filter(req => req.status === \"pending\" || req.status === \"approved\");\n  const filteredBorrowedItems = userRequests.filter(req => req.status === \"not-returned\" || req.status === \"non-returnable\");\n\n  /* ===============================\r\n          ADMIN RENDER\r\n  =============================== */\n\n  useEffect(() => {\n    if (role === \"admin\") {\n      navigate(\"/admin/dashboard\", {\n        replace: true\n      });\n    }\n  }, [role, navigate]);\n\n  // if (role === \"admin\") {\n  //   const pending = permissionRequests.filter((r) => r.status === \"pending\");\n\n  //   return (\n  //     <div className=\"container my-4\">\n  //       <h2 className=\"fw-bold mb-1\">Dashboard</h2>\n  //       <p className=\"text-muted\">Overview of your container management system</p>\n\n  //       <div className=\"mb-4\">\n  //         {pending.length > 0 ? (\n  //           <PermissionRequests\n  //             permissionRequests={pending}\n  //             onApprove={onPermissionApprove}\n  //             onReject={onPermissionReject}\n  //           />\n  //         ) : (\n  //           <p className=\"text-muted\">No pending requests.</p>\n  //         )}\n  //       </div>\n\n  //       {/* Rack Summary */}\n  //     <div className=\"row g-4 mb-4\">\n  //       {containers.map((container) => (\n  //         <div key={container._id} className=\"col-12 col-sm-6 col-lg-4\">\n  //           <ContainerSummaryCard container={container} basePath=\"/admin/racks\" />\n  //         </div>\n  //       ))}\n  //     </div>\n\n  //       <div className=\"row g-4 mt-4\">\n  //         <div className=\"col-lg-6\">\n  //           <ItemDueCard containers={containers} />\n  //         </div>\n  //         <div className=\"col-lg-6\">\n  //           <LowStockCard lowStock={lowStock} onJumpToSlot={(rackId, slotNumber) =>\n  //              navigate(`/admin/racks?jumpRack=${rackId}&jumpSlot=${slotNumber}`)\n  //           }/>\n  //         </div>\n  //       </div>\n  //     </div>\n  //   );\n  // }\n\n  /* ===============================\r\n         MANAGER RENDER\r\n  =============================== */\n  // if (role === \"manager\") {\n  //   return (\n  //     <div className=\"container my-4\">\n  //       <h2 className=\"fw-bold mb-3\">Manager Dashboard</h2>\n  //       <p className=\"text-muted\">Overview of racks, items and approvals</p>\n\n  //       {/* APPROVED REQUESTS */}\n  //       <div\n  //         className=\"card p-3 mb-4\"\n  //         style={{\n  //           background: \"hsl(215,25%,12%)\",\n  //           border: \"1px solid hsl(215,20%,25%)\",\n  //           color: \"white\",\n  //         }}\n  //       >\n  //         <h5 className=\"fw-bold mb-3\">Approved Requests</h5>\n\n  //         {approvedPermissions.length === 0 ? (\n  //           <p className=\"text-muted\">No approved permissions yet.</p>\n  //         ) : (\n  //           approvedPermissions.map((req) => (\n  //             <div\n  //               key={req.id}\n  //               className=\"d-flex justify-content-between align-items-center p-3 mb-3 rounded\"\n  //               style={{\n  //                 background: \"hsl(215,25%,16%)\",\n  //                 border: \"1px solid hsl(215,20%,25%)\",\n  //                 cursor: \"pointer\",\n  //               }}\n  //               onClick={() => {\n  //                 setSelectedReq(req);\n  //                 setShowManagerModal(true);\n  //               }}\n  //             >\n  //               <div>\n  //                 <div className=\"fw-bold\">\n  //                   <UserCircle size={20} className=\"me-2\" />\n  //                   {req.userName}\n  //                 </div>\n  //                 <div className=\"text-muted\">{req.userEmail}</div>\n  //                 <div className=\"text-muted\">Project: {req.whichProject}</div>\n  //               </div>\n\n  //               <div>\n  //                 <div className=\"text-muted\">Item: {req.itemName}</div>\n  //                 <div className=\"text-muted\">Qty: {req.quantity}</div>\n  //               </div>\n\n  //               <div className=\"text-end text-secondary fw-bold\">View Details</div>\n  //             </div>\n  //           ))\n  //         )}\n  //       </div>\n\n  //       {/* RACK SUMMARY */}\n  //       <div className=\"row g-3 mb-4\">\n  //         {containers.map((rack) => (\n  //           <div className=\"col-12 col-sm-6 col-lg-4\" key={rack.id}>\n  //             <ContainerSummaryCard container={rack} basePath=\"/manager/racks\" />\n  //           </div>\n  //         ))}\n  //       </div>\n\n  //       <div className=\"row g-4\">\n  //         <div className=\"col-lg-6\">\n  //           <ItemDueCard containers={containers} />\n  //         </div>\n\n  //         <div className=\"col-lg-6\">\n  //           <LowStockCard containers={containers} onJumpToSlot={jumpToSlot} />\n  //         </div>\n  //       </div>\n\n  //       <ManagerPermissionModal\n  //         show={showManagerModal}\n  //         onClose={() => setShowManagerModal(false)}\n  //         request={selectedReq}\n  //         onGiven={() => window.location.reload()}\n  //       />\n  //     </div>\n  //   );\n  // }\n\n  /* ===============================\r\n          USER RENDER\r\n  =============================== */\n  if (role === \"user\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-start mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"User Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"fw-bold mb-1\",\n            children: [\"Welcome \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-primary\",\n          onClick: () => setShowCreateModal(true),\n          children: \"Request New Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MyRequests, {\n        requests: filteredMyRequests,\n        onCancel: cancelMyRequest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UserBorrowedItems, {\n        borrowed: filteredBorrowedItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RequestItemModal, {\n        show: showCreateModal,\n        onClose: () => setShowCreateModal(false),\n        onSubmit: handleSubmitItemRequest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotificationToast, {\n        show: toast.show,\n        onClose: () => setToast({\n          ...toast,\n          show: false\n        }),\n        message: toast.message,\n        bg: toast.bg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n};\n_s(UniversalDashboard, \"EHwccTbx+t6nCFU1szlOEZIgrQQ=\", false, function () {\n  return [useNavigate];\n});\n_c = UniversalDashboard;\nexport default UniversalDashboard;\nvar _c;\n$RefreshReg$(_c, \"UniversalDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","UserCircle","api","NotificationToast","UserBorrowedItems","Button","RequestItemModal","MyRequests","jsxDEV","_jsxDEV","UniversalDashboard","role","containers","permissionRequests","approvedPermissions","onPermissionApprove","onPermissionReject","currentUser","_s","navigate","showCreateModal","setShowCreateModal","userRequests","setUserRequests","lowStock","setLowStock","toast","setToast","show","message","bg","loadRequests","res","get","data","err","console","error","handleSubmitItemRequest","requestData","post","prev","_err$response","_err$response$data","msg","response","cancelMyRequest","id","put","_error$response","_error$response2","_error$response2$data","alert","loadLimitedStock","filteredMyRequests","filter","req","status","filteredBorrowedItems","replace","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","onClick","requests","onCancel","borrowed","onClose","onSubmit","_c","$RefreshReg$"],"sources":["E:/Gandeevan_Technologies_project/Gandeevan-technologies-slot-frontend/src/pages/dashboard/UniversalDashboard.jsx"],"sourcesContent":["// src/pages/dashboard/UniversalDashboard.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { UserCircle } from \"lucide-react\";\r\nimport api from \"../../api/axios\";\r\nimport NotificationToast from \"../../components/common/NotificationToast\";\r\n\r\n/* ==== Admin Components ==== */\r\n// import ContainerSummaryCard from \"../../components/admin/dashboard/ContainerSummaryCard\";\r\n// import PermissionRequests from \"../../components/admin/dashboard/PermissionRequests\";\r\n// import ItemDueCard from \"../../components/admin/dashboard/DueDatesCard\";\r\n// import LowStockCard from \"../../components/admin/dashboard/LowStockCard\";\r\n\r\n/* ==== Manager Components ==== */\r\n// import ManagerPermissionModal from \"../../components/manager/ManagerPermissionModal\";\r\n\r\n/* ==== User Components ==== */\r\nimport UserBorrowedItems from \"../users/UserBorrowedItems\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport RequestItemModal from \"../users/RequestItemModal\";\r\nimport MyRequests from \"../users/MyRequests\";\r\n\r\n\r\nconst UniversalDashboard = ({\r\n  role,\r\n  containers = [],\r\n  permissionRequests = [],\r\n  approvedPermissions = [],\r\n  onPermissionApprove,\r\n  onPermissionReject,\r\n  currentUser,\r\n}) => {\r\n  const navigate = useNavigate();\r\n\r\n  /* USER STATES */\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [userRequests, setUserRequests] = useState([]);\r\n  const [lowStock, setLowStock] = useState([]);\r\n  const [toast, setToast] = useState({\r\n  show: false,\r\n  message: \"\",\r\n  bg: \"success\"\r\n   });\r\n\r\n\r\n     /* Load User Requests */\r\n  const loadRequests = async () => {\r\n    try {\r\n      const res = await api.get(\"/users/requests\");\r\n      setUserRequests(res.data.data || []);\r\n    } catch (err) {\r\n      console.error(\"❌ Failed to fetch requests:\", err);\r\n    }\r\n  };\r\n\r\n\r\n  /* Load User Requests */\r\n  useEffect(() => {\r\n    const loadRequests = async () => {\r\n      try {\r\n        const res = await api.get(\"/users/requests\");\r\n        setUserRequests(res.data.data || []);\r\n      } catch (err) {\r\n        console.error(\"❌ Failed to fetch requests:\", err);\r\n      }\r\n    };\r\n\r\n    if (role === \"user\") loadRequests();\r\n  }, [role]);\r\n\r\n  /* Create Item Request */\r\n   const handleSubmitItemRequest = async (requestData) => {\r\n  try {\r\n    const res = await api.post(\"/users/requestNewItem\", requestData);\r\n\r\n    // Success Toast\r\n    setToast({\r\n      show: true,\r\n      message: \"Request submitted successfully!\",\r\n      bg: \"success\",\r\n    });\r\n\r\n    // Close Modal\r\n    setShowCreateModal(false);\r\n\r\n    // Refresh user requests\r\n    setUserRequests((prev) => [res.data.data, ...prev]);\r\n\r\n  } catch (err) {\r\n    console.error(\"Submit Error:\", err);\r\n\r\n    let msg = \"Failed to submit request\";\r\n\r\n    // Use backend error message if exists\r\n    if (err.response?.data?.message) {\r\n      msg = err.response.data.message;\r\n    }\r\n\r\n    // Show Toast Error\r\n    setToast({\r\n      show: true,\r\n      message: msg,\r\n      bg: \"danger\",\r\n    });\r\n  }\r\n};\r\n\r\n\r\n  /* Cancel Request */\r\nconst cancelMyRequest = async (id) => {\r\n  try {\r\n    const response = await api.put(`/users/cancelRequest/${id}`);\r\n        setToast({\r\n        show: true,\r\n        message: \"Request Cancelled!\",\r\n        bg: \"danger\",\r\n      });\r\n\r\n    const res = await api.get(\"/users/requests\");\r\n    setUserRequests(res.data.data);\r\n  } catch (error) {\r\n    console.error(\"❌ Cancel failed full error:\", error.response?.data || error.message);\r\n    alert(error.response?.data?.message || \"Failed to cancel request\");\r\n  }\r\n};  \r\n\r\nuseEffect(() => {\r\n  const loadLimitedStock = async () => {\r\n    try {\r\n      const res = await api.get(\"/manager/limitedStock\");\r\n      setLowStock(res.data.data || []);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch limited stock:\", err);\r\n    }\r\n  };\r\n\r\n  if (role === \"admin\") {\r\n    loadLimitedStock();\r\n  }\r\n}, [role]);\r\n\r\n\r\n  /* Filter Data as Per Your Rules */\r\n  const filteredMyRequests = userRequests.filter(\r\n    (req) => req.status === \"pending\" || req.status === \"approved\"\r\n  );\r\n\r\n  const filteredBorrowedItems = userRequests.filter(\r\n    (req) => req.status === \"not-returned\" || req.status === \"non-returnable\"\r\n  );\r\n\r\n  /* ===============================\r\n          ADMIN RENDER\r\n  =============================== */\r\n\r\nuseEffect(() => {\r\n  if (role === \"admin\") {\r\n    navigate(\"/admin/dashboard\", { replace: true });\r\n  }\r\n}, [role, navigate]);\r\n\r\n  // if (role === \"admin\") {\r\n  //   const pending = permissionRequests.filter((r) => r.status === \"pending\");\r\n\r\n  //   return (\r\n  //     <div className=\"container my-4\">\r\n  //       <h2 className=\"fw-bold mb-1\">Dashboard</h2>\r\n  //       <p className=\"text-muted\">Overview of your container management system</p>\r\n\r\n  //       <div className=\"mb-4\">\r\n  //         {pending.length > 0 ? (\r\n  //           <PermissionRequests\r\n  //             permissionRequests={pending}\r\n  //             onApprove={onPermissionApprove}\r\n  //             onReject={onPermissionReject}\r\n  //           />\r\n  //         ) : (\r\n  //           <p className=\"text-muted\">No pending requests.</p>\r\n  //         )}\r\n  //       </div>\r\n\r\n  //       {/* Rack Summary */}\r\n  //     <div className=\"row g-4 mb-4\">\r\n  //       {containers.map((container) => (\r\n  //         <div key={container._id} className=\"col-12 col-sm-6 col-lg-4\">\r\n  //           <ContainerSummaryCard container={container} basePath=\"/admin/racks\" />\r\n  //         </div>\r\n  //       ))}\r\n  //     </div>\r\n\r\n  //       <div className=\"row g-4 mt-4\">\r\n  //         <div className=\"col-lg-6\">\r\n  //           <ItemDueCard containers={containers} />\r\n  //         </div>\r\n  //         <div className=\"col-lg-6\">\r\n  //           <LowStockCard lowStock={lowStock} onJumpToSlot={(rackId, slotNumber) =>\r\n  //              navigate(`/admin/racks?jumpRack=${rackId}&jumpSlot=${slotNumber}`)\r\n  //           }/>\r\n  //         </div>\r\n  //       </div>\r\n  //     </div>\r\n  //   );\r\n  // }\r\n\r\n\r\n /* ===============================\r\n        MANAGER RENDER\r\n=============================== */\r\n  // if (role === \"manager\") {\r\n  //   return (\r\n  //     <div className=\"container my-4\">\r\n  //       <h2 className=\"fw-bold mb-3\">Manager Dashboard</h2>\r\n  //       <p className=\"text-muted\">Overview of racks, items and approvals</p>\r\n\r\n  //       {/* APPROVED REQUESTS */}\r\n  //       <div\r\n  //         className=\"card p-3 mb-4\"\r\n  //         style={{\r\n  //           background: \"hsl(215,25%,12%)\",\r\n  //           border: \"1px solid hsl(215,20%,25%)\",\r\n  //           color: \"white\",\r\n  //         }}\r\n  //       >\r\n  //         <h5 className=\"fw-bold mb-3\">Approved Requests</h5>\r\n\r\n  //         {approvedPermissions.length === 0 ? (\r\n  //           <p className=\"text-muted\">No approved permissions yet.</p>\r\n  //         ) : (\r\n  //           approvedPermissions.map((req) => (\r\n  //             <div\r\n  //               key={req.id}\r\n  //               className=\"d-flex justify-content-between align-items-center p-3 mb-3 rounded\"\r\n  //               style={{\r\n  //                 background: \"hsl(215,25%,16%)\",\r\n  //                 border: \"1px solid hsl(215,20%,25%)\",\r\n  //                 cursor: \"pointer\",\r\n  //               }}\r\n  //               onClick={() => {\r\n  //                 setSelectedReq(req);\r\n  //                 setShowManagerModal(true);\r\n  //               }}\r\n  //             >\r\n  //               <div>\r\n  //                 <div className=\"fw-bold\">\r\n  //                   <UserCircle size={20} className=\"me-2\" />\r\n  //                   {req.userName}\r\n  //                 </div>\r\n  //                 <div className=\"text-muted\">{req.userEmail}</div>\r\n  //                 <div className=\"text-muted\">Project: {req.whichProject}</div>\r\n  //               </div>\r\n\r\n  //               <div>\r\n  //                 <div className=\"text-muted\">Item: {req.itemName}</div>\r\n  //                 <div className=\"text-muted\">Qty: {req.quantity}</div>\r\n  //               </div>\r\n\r\n  //               <div className=\"text-end text-secondary fw-bold\">View Details</div>\r\n  //             </div>\r\n  //           ))\r\n  //         )}\r\n  //       </div>\r\n\r\n  //       {/* RACK SUMMARY */}\r\n  //       <div className=\"row g-3 mb-4\">\r\n  //         {containers.map((rack) => (\r\n  //           <div className=\"col-12 col-sm-6 col-lg-4\" key={rack.id}>\r\n  //             <ContainerSummaryCard container={rack} basePath=\"/manager/racks\" />\r\n  //           </div>\r\n  //         ))}\r\n  //       </div>\r\n\r\n  //       <div className=\"row g-4\">\r\n  //         <div className=\"col-lg-6\">\r\n  //           <ItemDueCard containers={containers} />\r\n  //         </div>\r\n\r\n  //         <div className=\"col-lg-6\">\r\n  //           <LowStockCard containers={containers} onJumpToSlot={jumpToSlot} />\r\n  //         </div>\r\n  //       </div>\r\n\r\n  //       <ManagerPermissionModal\r\n  //         show={showManagerModal}\r\n  //         onClose={() => setShowManagerModal(false)}\r\n  //         request={selectedReq}\r\n  //         onGiven={() => window.location.reload()}\r\n  //       />\r\n  //     </div>\r\n  //   );\r\n  // }\r\n\r\n\r\n  /* ===============================\r\n          USER RENDER\r\n  =============================== */\r\n  if (role === \"user\") {\r\n    return (\r\n      <div className=\"container my-4\">\r\n        <div className=\"d-flex justify-content-between align-items-start mb-3\">\r\n          <div>\r\n            <p className=\"text-muted\">User Dashboard</p>\r\n            <h2 className=\"fw-bold mb-1\">Welcome {currentUser?.name}</h2>\r\n          </div>\r\n\r\n          <Button className=\"btn-primary\" onClick={() => setShowCreateModal(true)}>\r\n            Request New Item\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Only pending + approved */}\r\n        <MyRequests requests={filteredMyRequests} onCancel={cancelMyRequest} />\r\n\r\n        {/* Borrowed Items */}\r\n        <UserBorrowedItems borrowed={filteredBorrowedItems} />\r\n\r\n        {/* Create Modal */}\r\n        <RequestItemModal\r\n          show={showCreateModal}\r\n          onClose={() => setShowCreateModal(false)}\r\n          onSubmit={ handleSubmitItemRequest}\r\n        />  \r\n        {/* Toast Notification */}\r\n            {/* Toast Component */}\r\n        <NotificationToast\r\n          show={toast.show}\r\n          onClose={() => setToast({ ...toast, show: false })}\r\n          message={toast.message}\r\n          bg={toast.bg}\r\n        />\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default UniversalDashboard;\r\n"],"mappings":"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CAAC;EAED,MAAMC,qBAAqB,GAAGpC,YAAY,CAACiC,MAAM,CAC9CC,GAAG,IAAKA,GAAG,CAACC,MAAM,KAAK,cAAc,IAAID,GAAG,CAACC,MAAM,KAAK,gBAC3D,CAAC;;EAED;AACF;AACA;;EAEA1D,SAAS,CAAC,MAAM;IACd,IAAIY,IAAI,KAAK,OAAO,EAAE;MACpBQ,QAAQ,CAAC,kBAAkB,EAAE;QAAEwC,OAAO,EAAE;MAAK,CAAC,CAAC;IACjD;EACF,CAAC,EAAE,CAAChD,IAAI,EAAEQ,QAAQ,CAAC,CAAC;;EAElB;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGD;AACD;AACA;EACE;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGA;AACF;AACA;EACE,IAAIR,IAAI,KAAK,MAAM,EAAE;IACnB,oBACEF,OAAA;MAAKmD,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BpD,OAAA;QAAKmD,SAAS,EAAC,uDAAuD;QAAAC,QAAA,gBACpEpD,OAAA;UAAAoD,QAAA,gBACEpD,OAAA;YAAGmD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC5CxD,OAAA;YAAImD,SAAS,EAAC,cAAc;YAAAC,QAAA,GAAC,UAAQ,EAAC5C,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEiD,IAAI;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eAENxD,OAAA,CAACJ,MAAM;UAACuD,SAAS,EAAC,aAAa;UAACO,OAAO,EAAEA,CAAA,KAAM9C,kBAAkB,CAAC,IAAI,CAAE;UAAAwC,QAAA,EAAC;QAEzE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGNxD,OAAA,CAACF,UAAU;QAAC6D,QAAQ,EAAEd,kBAAmB;QAACe,QAAQ,EAAEvB;MAAgB;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAGvExD,OAAA,CAACL,iBAAiB;QAACkE,QAAQ,EAAEZ;MAAsB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAGtDxD,OAAA,CAACH,gBAAgB;QACfsB,IAAI,EAAER,eAAgB;QACtBmD,OAAO,EAAEA,CAAA,KAAMlD,kBAAkB,CAAC,KAAK,CAAE;QACzCmD,QAAQ,EAAGlC;MAAwB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC,eAGFxD,OAAA,CAACN,iBAAiB;QAChByB,IAAI,EAAEF,KAAK,CAACE,IAAK;QACjB2C,OAAO,EAAEA,CAAA,KAAM5C,QAAQ,CAAC;UAAE,GAAGD,KAAK;UAAEE,IAAI,EAAE;QAAM,CAAC,CAAE;QACnDC,OAAO,EAAEH,KAAK,CAACG,OAAQ;QACvBC,EAAE,EAAEJ,KAAK,CAACI;MAAG;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGC,CAAC;EAEV;EAEA,OAAO,IAAI;AACb,CAAC;AAAC/C,EAAA,CAzTIR,kBAAkB;EAAA,QASLV,WAAW;AAAA;AAAAyE,EAAA,GATxB/D,kBAAkB;AA2TxB,eAAeA,kBAAkB;AAAC,IAAA+D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}